{"version":3,"sources":["assets/mediaPlayer.js","assets/plugins/autoPlay.js","assets/plugins/autoPause.js","assets/index.js"],"names":["mediaPlayer","config","media","el","plugins","_initPlugins","prototype","player","play","pause","muted","value","forEach","plugin","run","tooglePlay","paused","mute","sound","addVolumen","volume","alert","removeVolumen","AutoPlay","autoPause","constructor","threshold","handleIntersection","bind","handleVisibiltyChange","observer","IntersectionObserver","observe","document","addEventListener","entries","entry","isVisible","intersectionRatio","console","log","visibilityState","video","querySelector","buttonPlay","buttonMuted","autoplay","onclick","navigator","serviceWorker","register","catch","error","message"],"mappings":";;AGAA;;AACA;;AACA;AHDA,AEDA,ADAA,MCAMwB,GFCGxB,ACDAuB,MCAT,CAAgB,CDAhB,GDCA,ACDoB,CDCCtB,ACDE,MDCvB,EAA6B;AACzB,AEDAwB,EAAAA,KFCKvB,KAAL,CEDW,EFCED,CEDC,KFCK,CAACE,EAApB;AACA,AEDI,ADDRoB,ODESnB,CCFD,CCCKsB,ADDJpB,KDEL,GAAeL,CEDX,ADDR,CAAmBa,ECCM,CDDzB,CDEyB,CAACV,CEDlB,ADDiB,MDEN,IAAkB,ACFFG,EDE/B,ICFqB,EAAkB;AEG3C,ADDQ,ADDJ,MEEEmC,GDDOf,ECCF,GAAGM,QAAQ,CAACU,IDDf,GAA0B,KAAKhB,CCCzB,CAAuB,OAAvB,CAAd,QDDkC,CAAwBC,IAAxB,CAA6B,IAA7B,CAA1B;ACER,AHDI,AEAI,ADDJ,MEEEgB,AFFE,CDCCvC,ACDAE,ECCIsB,IDDE,CAACnB,EEEA,GAAGuB,AHDf,ACDA,EAAmB,MEEI,CAACU,EDDpB,GAA6B,KAAKd,GCCvB,CAAuB,aAAvB,CAAnB,GDDqC,CAA2BD,IAA3B,CAAgC,IAAhC,CAA7B;ACER,AHDC,AECI,ADFGrB,IAAAA,EEEFsC,IFFQ,CAAC3C,KAAP,CEES,AFFIkB,GEEDa,GFFZ,GAAsB,EEEF,CAACU,CFFrB,YEEY,CAAuB,aAAvB,CAApB;AACA,AFFQpC,IAAAA,EEEFY,IFFQ,CAACT,KEEC,AFFR,GEEWuB,AFFI,IAAf,IEEmB,CAACU,aAAT,CAAuB,aAAvB,CAAnB;AACA,AHDA3C,AEAIc,ADDIP,ECCJO,EDDIP,CCCD,CCCDe,ADDEf,IDDM,CDCH,ACDIC,CDCHF,AEAL,EAAS,CDDR,IEEW,EHDnB,CGCsB2B,AHDA5B,QGCQ,CAACsC,GHD/B,GAAqC,OGCf,CAAuB,IHDI,YGC3B,CAAtB;AAEA,AHFI,AEAI,ADDH,MEGCpC,EHFIA,CEAGA,GCED,EHFI,CGED,ADFP,EFAW,CEAGA,CCEHP,KDFX,eCEO,CACX;AACIG,AHHAK,AEAA,ADAP,CARD,CEWQL,EAAE,AHHFK,EGGIkC,EHHA,EAAE,AEAAZ,CCEV,KHFgB,EEAE,GFAGtB,AEAA,IFAL,AEASuB,EFDV,kBECM,CAAyB,KAAKJ,kBAA9B,EAAkD;ACInEvB,AHHAK,AEAIiB,ECGJtB,EHHAK,EEAIiB,GCGG,AHHF,EGGI,AHHF,CGIH,GDJS,CCILoB,CHJK,AEAE,KFAGrC,AEAEiB,KFAP,EAFF,IGMP,EADK,EAEL,IAAIF,kBAAJ,EAFK;AAFb,AHAItB,AEFmE,CCC5D,CAAf,EHCQA,CEFiB,CAAjB,GFEK,EAAE,ICAAqB,CDAKrB,KAHD;AGUnBqC,ADLQT,IAAAA,GCKD,CAACU,GAAR,CAAYjC,ADLI,CAACyB,KCKjB,EDLQ,CAAiB,KAAKzB,MAAL,CAAYL,KAA7B;AFDA,AEGA+B,IAAAA,IFHIvB,IEGI,CFHR,AEGSwB,GFHG,aEGZ,CAA0B,kBAA1B,EAA8C,KAAKL,qBAAnD;ACIRe,AHNY,AEGP,UCGK,CAACG,EHNQ,KGMnB,AHNwB7C,GGMH,EHNF,CAAWQ,GGMH,EHNf;AGORH,AHNK,EGMLA,GHZe,GGYT,CAACQ,UAAP;AACH,ADHGY,CCCJ,CDDIA,kBAAkB,CAACQ,OAAD,EAAU;AFHxB,AEIA,QFJIzB,EEIE0B,GFJN,CAAUzB,CEIC,GAAGwB,CFJd,EAAiB,IEII,CAAC,CAAD,CAArB;ACIRU,AHPY,AEIJ,UAAMR,CCGH,AHPMnC,CGOL6C,IHPA,CAAWrC,EGOvB,ADHuB,GCGD,AHPV,AEIc0B,GFJKzB,EEIA,CAAC2B,EFJpB,IGOsB,WDHR,IAA2B,KAAKZ,SAAlD;ACIJnB,AHPK,AEIDgC,ECGJhC,EDHIgC,ICGE,CAACrB,EDHI,CAACsB,ECGZ,CDHI,CAAYH,SAAZ;ACIP,ADHO,CCCR;AHfmB,AEenB,GFfI;AGmBJlB,AHRI,AEKJ,OFLSf,GGQC,CAAC2C,GHRP,CAAanC,GGQjB,GAAqB,CHRjB,CAAqBC,IGQE,EHRI,IAAI;AGS/BN,AHRIM,AEKR,ECGIN,EHRIM,IGQE,CAACM,CHRG,CAACL,GAAP,CAAWP,IGQf,EHRI;AGSJgC,AHRC,AEKL,ECGIA,CHVA,MGUO,CAACC,GAAR,CAAYjC,MAAM,CAACL,KAAP,CAAakB,MAAzB;AACH,AHRA,CGKD,AHpBA;AEoBQiB,IAAAA,SAAS,GAAG,KAAK9B,MAAL,CAAYC,IAAZ,EAAH,GAAwB,KAAKD,MAAL,CAAYE,KAAZ,EAAjC,CATwB,CAWxB;ACERa,AHPAtB,AEMK,WFNM,CAACM,CGOC,CAACyC,OAAd,AHPA,CAAsBvC,EGOE,EHPxB,GAA6B,CGOC,WHPW;AGQrCD,AHPA,EGOAA,KHPKL,CGOC,CAACoB,GHPP,CAAWd,IAAX,KGOA;AACA+B,AHPH,AEMGV,CFRJ,CGSIU,ADDAV,OCCO,CAACW,GAAR,CAAYjC,MAAM,CAACL,EDDE,GCCT,ADDW,CCCEkB,MAAzB;AACH,ADDO,CCFR,SDEciB,SAAS,GAAGJ,QAAQ,CAACQ,eAAT,IAA4B,QAA9C;AFLRzC,AEMQ,KAACqC,MFNE,CAAC/B,EEMJ,GAAa,IFNrB,CAAsBG,AEMIF,KFN1B,CEMqB,CAAYC,CFNH,GEMT,EAAb,GAAkC,IFNA,CEMKD,MAAL,CAAYE,KAAZ,EAAlC;ACER,AHPI,AEMC,ICCD,GHPKP,KAAL,CAAWO,KAAX,KGOmBuC,SAAvB,EAAkC;AAC9BT,AHPH,CAFD,CGSIA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACAQ,ADtCY,ECsCZA,SAAS,CACJC,aADL,CAEKC,QAFL,CAEc,sCAFd,EAEwBC,KAFxB,CAE8BC,KAAK,IAAI;AAC/Bb,AHTZvC,IGSYuC,OAAO,AHTR,CGSSa,AHTR9C,KGSA,CAAc8C,GHT1B,CAAsBrC,CGSS,CAACsC,OAApB,CHTZ,GAAmC,YAAY;AGUtC,AHTL,GGKA,IHLKnD,KAAL,CAAWc,EEKAQ,IFLX,IAAqB,IAArB,GAA4B,KAAKtB,KAAL,CAAWM,IAAX,EAA5B,GAAgD,KAAKN,KAAL,CAAWO,KAAX,EAAhD;AGUH,AHTA,CAFD;;AAIAT,WAAW,CAACM,SAAZ,CAAsBW,IAAtB,GAA6B,YAAY;AACrC,OAAKf,KAAL,CAAWQ,KAAX,GAAmB,IAAnB;AACH,CAFD;;AAIAV,WAAW,CAACM,SAAZ,CAAsBY,KAAtB,GAA8B,YAAY;AACtC,OAAKhB,KAAL,CAAWQ,KAAX,IAAoB,IAApB,GAA2B,KAAKR,KAAL,CAAWQ,KAAX,GAAmB,KAA9C,GAAsD,KAAKR,KAAL,CAAWQ,KAAX,GAAmB,IAAzE;AACH,CAFD;;AAIAV,WAAW,CAACM,SAAZ,CAAsBa,UAAtB,GAAmC,YAAY;AAC3C,MAAI,KAAKjB,KAAL,CAAWQ,KAAX,IAAoB,IAAxB,EAA8B;AAC1B,SAAKR,KAAL,CAAWQ,KAAX,GAAmB,KAAnB;AACA,SAAKR,KAAL,CAAWkB,MAAX,IAAqB,IAArB;AACH,GAHD,MAGO;AACH,QAAI,KAAKlB,KAAL,CAAWkB,MAAX,IAAqB,CAAzB,EAA4B;AACxBC,MAAAA,KAAK,CAAC,oBAAD,CAAL;AACH,KAFD,MAEO;AACH,WAAKnB,KAAL,CAAWkB,MAAX,IAAqB,IAArB;AACH;AACJ;AAEJ,CAZD;;AAcApB,WAAW,CAACM,SAAZ,CAAsBgB,aAAtB,GAAsC,YAAY;AAC9C,MAAI,KAAKpB,KAAL,CAAWkB,MAAX,IAAqB,CAAzB,EAA4B;AACxBC,IAAAA,KAAK,CAAC,qBAAD,CAAL;AACH,GAFD,MAEO;AACH,SAAKnB,KAAL,CAAWkB,MAAX,IAAqB,IAArB;AACH;AACJ,CAND;;eAQepB","file":"assets.8f4429fc.js","sourceRoot":"..","sourcesContent":["\r\nfunction mediaPlayer(config) {\r\n    this.media = config.el;\r\n    this.plugins = config.plugins || [];\r\n    this._initPlugins();\r\n}\r\n\r\nmediaPlayer.prototype._initPlugins = function () {\r\n    const player = {\r\n        play: () => this.play(),\r\n        pause: () => this.pause(),\r\n        media: this.media,\r\n        get muted() {\r\n            return this.media.muted;\r\n        },\r\n        set muted(value) {\r\n            this.media.muted = value;\r\n        }\r\n    }\r\n    this.plugins.forEach(plugin => {\r\n        plugin.run(player);\r\n    });\r\n};\r\n\r\nmediaPlayer.prototype.play = function () {\r\n    this.media.play();\r\n};\r\n\r\nmediaPlayer.prototype.pause = function () {\r\n    this.media.pause();\r\n};\r\n\r\nmediaPlayer.prototype.tooglePlay = function () {\r\n    this.media.paused == true ? this.media.play() : this.media.pause();\r\n};\r\n\r\nmediaPlayer.prototype.mute = function () {\r\n    this.media.muted = true;\r\n};\r\n\r\nmediaPlayer.prototype.sound = function () {\r\n    this.media.muted == true ? this.media.muted = false : this.media.muted = true;\r\n};\r\n\r\nmediaPlayer.prototype.addVolumen = function () {\r\n    if (this.media.muted == true) {\r\n        this.media.muted = false\r\n        this.media.volume += 0.25\r\n    } else {\r\n        if (this.media.volume >= 1) {\r\n            alert('limite del volumen')\r\n        } else {\r\n            this.media.volume += 0.25\r\n        }\r\n    }\r\n\r\n};\r\n\r\nmediaPlayer.prototype.removeVolumen = function () {\r\n    if (this.media.volume <= 0) {\r\n        alert('no hay sonido, sube')\r\n    } else {\r\n        this.media.volume -= 0.25\r\n    }\r\n}\r\n\r\nexport default mediaPlayer;\r\n","function AutoPlay() { }\r\nAutoPlay.prototype.run = function (player) {\r\n    //console.log('asdasdas' + player.muted)\r\n    if (!player.muted) {\r\n        player.media.volume = 0.25\r\n        player.muted = true;\r\n        player.play();\r\n    }\r\n    \r\n};\r\n\r\nexport default AutoPlay;\r\n","class autoPause {\r\n    constructor() {\r\n        this.threshold = 0.25;\r\n        this.handleIntersection = this.handleIntersection.bind(this);\r\n        this.handleVisibiltyChange = this.handleVisibiltyChange.bind(this);\r\n        \r\n    }\r\n    run(player) {\r\n        this.player = player;\r\n        const observer = new IntersectionObserver(this.handleIntersection, {\r\n            threshold: this.threshold\r\n        })\r\n\r\n        observer.observe(this.player.media)\r\n\r\n        document.addEventListener('visibilitychange', this.handleVisibiltyChange)\r\n    }\r\n\r\n    handleIntersection(entries) {\r\n        const entry = entries[0];\r\n        const isVisible = entry.intersectionRatio >= this.threshold;\r\n        console.log(isVisible)\r\n        /*if (isVisible) {\r\n            this.player.play();\r\n        } else {\r\n            this.player.pause();\r\n        }*/\r\n        isVisible ? this.player.play() : this.player.pause();\r\n\r\n        //console.log(entry)\r\n    };\r\n\r\n    handleVisibiltyChange(){\r\n        const isVisible = document.visibilityState == \"hidden\"\r\n        !isVisible ? this.player.play() : this.player.pause();\r\n    }\r\n}\r\n\r\nexport default autoPause;","import mediaPlayer from './mediaPlayer.js';\r\nimport autoplay from './plugins/autoPlay.js'\r\nimport autoPause from './plugins/autoPause.js'\r\n\r\nconst video = document.querySelector('video')\r\nconst buttonPlay = document.querySelector('#playButton')\r\nconst buttonMuted = document.querySelector('#muteButton')\r\nconst addVolumen = document.querySelector('#addVolumen')\r\nconst removeVolumen = document.querySelector('#removeVolumen')\r\n\r\nconst player = new mediaPlayer(\r\n    {\r\n        el: video,\r\n        plugins: [\r\n            new autoplay,\r\n            new autoPause\r\n        ]\r\n    });\r\nconsole.log(player)\r\nbuttonPlay.onclick = () => {\r\n    player.tooglePlay();\r\n}\r\n\r\nbuttonMuted.onclick = function () {\r\n    player.sound();\r\n}\r\n\r\naddVolumen.onclick = () => {\r\n    player.addVolumen()\r\n    console.log(player.media.volume)\r\n}\r\nremoveVolumen.onclick = () => {\r\n    player.removeVolumen();\r\n    console.log(player.media.volume)\r\n}\r\n\r\nif ('serviceWorker' in navigator) {\r\n    console.log('si sirve')\r\n    navigator\r\n        .serviceWorker\r\n        .register('/sw.js').catch(error => {\r\n            console.error(error.message);\r\n        })\r\n}\r\n"]}